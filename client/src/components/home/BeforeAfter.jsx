import React, { useEffect, useRef } from 'react';
import Marquee from '../ui/marquee';
import Heading from '../common/Heading';
import { getImagewebp } from '../../utility/getImage';
import { ImgComparisonSlider } from '@img-comparison-slider/react';

const BeforeAfter = () => {

  return (<>
    <section className=' w-full  py-8 lg:py-16'>
      <div className='sm:container mx-auto px-4 '>
        <div className='pb-5 lg:pb-16 flex flex-col justify-center items-center'>
          <Marquee quotes={"Live Magic"} />
          <div className='pt-10'></div>
          <Heading text={"From Dream to Reality"} />
        </div>

        <div className='rounded-3xl overflow-hidden'>

             <ImgComparisonSlider className="slider-with-animated-handle overflow-hidden">

              <style>{`
                .before, .after {
                  margin: 0;
                  position: relative;
                }
                .before figcaption, .after figcaption {
                  background: #E68900;
                  border: 1px solid #000;
                  border-radius: 12px;
                  color: #fff;
                  padding: 12px;
                  position: absolute;
                  top: 50%;
                  transform: translateY(-50%);
                  line-height: 100%;
                  font-size:20px;
                  font-weight: 500;
                }
                .before figcaption { left: 12px; }
                .after figcaption { right: 12px; }

                .custom-animated-handle {
                  transition: transform 0.2s;
                }

                .slider-with-animated-handle:hover .custom-animated-handle {
                  transform: scale(1.2);
                }
              `}</style>

              <figure slot="first" className="before">
                <img src={getImagewebp("before-after-1")} width="100%" loading='lazy' alt="Before construction - anusha structures"  title="picture of Before construction of anusha structures" />
                <figcaption>Before</figcaption>
              </figure>

              <figure slot="second" className="after">
                <img src={getImagewebp("before-after-2")} width="100%" loading='lazy' alt="After construction - anusha structures"  title="picture of After construction of anusha structures" />
                <figcaption>After</figcaption>
              </figure>

              <svg xmlns="http://www.w3.org/2000/svg" slot="handle" className="custom-animated-handle" width="70" height="70" viewBox="0 0 250 250">
                <path d="M0 0 C23.82942586 20.10607807 39.47398135 47.56934025 43.4375 78.6875 C45.86824895 115.86715567 37.12550008 147.80662382 12.64990234 176.18212891 C-7.18903179 198.5126999 -36.6227559 213.63104672 -66.5625 215.6875 C-102.27077304 217.50114154 -134.57336918 206.99117275 -161.25 182.9375 C-181.81487794 163.70768191 -197.32889898 134.86604438 -198.72363281 106.39868164 C-198.7614129 103.20384821 -198.79364136 100.00926722 -198.80273438 96.81420898 C-198.81232727 94.78651069 -198.84334804 92.75987816 -198.875 90.73242188 C-199.13519133 58.87559403 -184.95880487 29.73663727 -163.3125 7 C-118.53925784 -36.18553853 -48.29713502 -38.44883654 0 0 Z" fill="#FEFEFE" transform="translate(202.5625,32.3125)"/>
                <path d="M0 0 C19.78625954 0 19.78625954 0 24.64453125 4.53515625 C29.24854078 10.5557841 29.59482905 14.4902832 29 22 C27.45713566 26.24287693 25.48557419 29.12952714 22 32 C17 34 17 34 0 34 C0 22.78 0 11.56 0 0 Z" fill="#080808" transform="translate(73,103)"/>
                <path d="M0 0 C1.17369141 -0.00386719 1.17369141 -0.00386719 2.37109375 -0.0078125 C4.5625 0.125 4.5625 0.125 7.5625 1.125 C9.56211564 1.16420815 11.56299364 1.16943347 13.5625 1.125 C13.64991124 4.68734428 13.70302896 8.24941108 13.75 11.8125 C13.77513672 12.81990234 13.80027344 13.82730469 13.82617188 14.86523438 C13.91958722 24.30018378 13.91958722 24.30018378 10.5625 28.125 C7.49472575 31.10178095 5.28929036 31.53483618 1.0625 31.5 C-0.34515625 31.51160156 -0.34515625 31.51160156 -1.78125 31.5234375 C-4.80066774 31.07052484 -6.18452018 30.13355276 -8.4375 28.125 C-6.6875 24.25 -6.6875 24.25 -4.4375 23.125 C-3.7775 23.455 -3.1175 23.785 -2.4375 24.125 C-0.89726004 24.19450541 0.64584988 24.20952357 2.1875 24.1875 C3.00476563 24.17847656 3.82203125 24.16945312 4.6640625 24.16015625 C5.29054687 24.14855469 5.91703125 24.13695312 6.5625 24.125 C6.2325 22.805 5.9025 21.485 5.5625 20.125 C5.2325 20.455 4.9025 20.785 4.5625 21.125 C1.1595933 21.62283265 -2.03872512 21.66164866 -5.4375 21.125 C-8.84182151 18.46962922 -10.05900515 17.06862218 -10.87109375 12.8984375 C-11.09676465 8.80900732 -10.76586086 6.65037737 -8.5625 3.125 C-5.57666788 0.31480507 -3.99584622 -0.01312265 0 0 Z" fill="#0B0B0B" transform="translate(164.4375,115.875)"/>
                <path d="M0 0 C0.680625 0.00644531 1.36125 0.01289062 2.0625 0.01953125 C4 0.1875 4 0.1875 7 1.1875 C9.31 1.1875 11.62 1.1875 14 1.1875 C14 7.7875 14 14.3875 14 21.1875 C10.66666667 21.1875 7.33333333 21.1875 4 21.1875 C3.31164062 21.25710937 2.62328125 21.32671875 1.9140625 21.3984375 C-2.68926768 21.72836901 -4.39007918 21.69784191 -8.0625 18.625 C-10.31126477 14.63525605 -10.64401096 12.69557671 -10 8.1875 C-7.92479953 2.95008929 -5.93122728 -0.12356724 0 0 Z" fill="#0C0C0C" transform="translate(135,115.8125)"/>
                <path d="M0 0 C0 3 0 3 -0.98046875 5.2578125 C-3.3239137 11.56087133 -3.18238605 20.17118771 -0.5 26.375 C-0.005 27.24125 0.49 28.1075 1 29 C-3.06497208 27.74241557 -6.67690212 26.23747765 -10.3984375 24.1796875 C-11.37167969 23.64472656 -12.34492187 23.10976562 -13.34765625 22.55859375 C-14.34667969 22.00300781 -15.34570312 21.44742188 -16.375 20.875 C-17.39722656 20.31167969 -18.41945313 19.74835938 -19.47265625 19.16796875 C-21.98425792 17.7830669 -24.49323719 16.39363545 -27 15 C-24.51448189 12.16098599 -21.82488922 10.7392312 -18.45703125 9.08203125 C-17.38388672 8.55029297 -16.31074219 8.01855469 -15.20507812 7.47070312 C-14.08552734 6.92349609 -12.96597656 6.37628906 -11.8125 5.8125 C-10.68134766 5.25369141 -9.55019531 4.69488281 -8.38476562 4.11914062 C-5.59246321 2.74066222 -2.79751362 1.36786344 0 0 Z" fill="#0A0A0A" transform="translate(49,111)"/>
                <path d="M0 0 C4.06497208 1.25758443 7.67690212 2.76252235 11.3984375 4.8203125 C12.37167969 5.35527344 13.34492188 5.89023438 14.34765625 6.44140625 C15.34667969 6.99699219 16.34570312 7.55257812 17.375 8.125 C18.39722656 8.68832031 19.41945312 9.25164062 20.47265625 9.83203125 C22.98425792 11.2169331 25.49323719 12.60636455 28 14 C24.08641316 18.39391663 18.58344572 20.57872678 13.4375 23.25 C12.37080078 23.8171875 11.30410156 24.384375 10.20507812 24.96875 C9.18736328 25.49984375 8.16964844 26.0309375 7.12109375 26.578125 C6.1870874 27.06700195 5.25308105 27.55587891 4.29077148 28.05957031 C3.53481689 28.36991211 2.7788623 28.68025391 2 29 C1.34 28.67 0.68 28.34 0 28 C0.28875 27.38253906 0.5775 26.76507813 0.875 26.12890625 C3.84309849 19.35793158 5.63287632 13.61709857 3.09375 6.4375 C2.13436151 4.24461203 1.11986317 2.11474161 0 0 Z" fill="#070707" transform="translate(200,112)"/>
                <path d="M0 0 C9.22222222 0 9.22222222 0 13 3 C15.81436504 7.22154756 15.68304949 11.03975968 15 16 C13.11484777 18.57637471 11.80665143 19.59667428 9 21 C6.03 21 3.06 21 0 21 C0 14.07 0 7.14 0 0 Z" fill="#FBFBFB" transform="translate(80,109)"/>
                <path d="M0 0 C0 1.98 0 3.96 0 6 C-1.2065625 6.4640625 -1.2065625 6.4640625 -2.4375 6.9375 C-4.89080405 7.76335345 -4.89080405 7.76335345 -6 9 C-6.23427778 11.01594582 -6.41336124 13.038474 -6.5625 15.0625 C-6.64628906 16.16722656 -6.73007813 17.27195313 -6.81640625 18.41015625 C-6.87699219 19.26480469 -6.93757813 20.11945313 -7 21 C-9.31 21 -11.62 21 -14 21 C-14 14.4 -14 7.8 -14 1 C-12.02 1 -10.04 1 -8 1 C-7.67 1.99 -7.34 2.98 -7 4 C-6.401875 3.34 -5.80375 2.68 -5.1875 2 C-3 0 -3 0 0 0 Z" fill="#0B0B0B" transform="translate(122,116)"/>
                <path d="M0 0 C6.57692308 0.57692308 6.57692308 0.57692308 8 2 C8.1875 5.4375 8.1875 5.4375 8 9 C6 11 6 11 3.0625 11.375 C0 11 0 11 -1.9375 9.3125 C-3.28233625 6.38550346 -3.03115662 5.01415011 -2 2 C-1.34 1.34 -0.68 0.68 0 0 Z" fill="#F8F8F8" transform="translate(163,121)"/>
                <path d="M0 0 C6.57692308 0.57692308 6.57692308 0.57692308 8 2 C8.1875 5.4375 8.1875 5.4375 8 9 C6 11 6 11 3 11.25 C0 11 0 11 -2 9 C-2.25 5.5 -2.25 5.5 -2 2 C-1.34 1.34 -0.68 0.68 0 0 Z" fill="#F4F4F4" transform="translate(134,121)"/>
                <path d="M0 0 C0.33 0 0.66 0 1 0 C1 1.65 1 3.3 1 5 C-2.01324195 6.50662097 -4.68286377 6.17770373 -8 6 C-8.66 5.34 -9.32 4.68 -10 4 C-9.67 3.34 -9.34 2.68 -9 2 C-7.1875 1.62109375 -7.1875 1.62109375 -5 1.4375 C-2.21067942 1.37334592 -2.21067942 1.37334592 0 0 Z" fill="#E9E9E9" transform="translate(170,135)"/>
              </svg>

            </ImgComparisonSlider>

        </div>
      </div>
    </section>
  </>);
};

export default BeforeAfter;


